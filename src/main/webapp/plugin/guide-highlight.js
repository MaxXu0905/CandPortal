(function($) {	var $highlighEle;	var $topMask;	var $leftMask;	var $bottomMask;	var $rightMask;	var $centerMask;	var timeoutId;	var defaultOpts = {		enable : false, // 高亮区域是否可操作		width : null,		height : null,		widthRatio : 1, // 高亮区域宽度百分比		heightRatio : 1,	};	function calculateMask($ele, triggertype) {		var offset = $ele.offset();		var top = offset.top;		var left = offset.left;		var eleWidth = $ele.outerWidth();		var eleHeight = $ele.outerHeight();		var width = (defaultOpts.width || eleWidth) * defaultOpts.widthRatio;		var height = (defaultOpts.height || eleHeight) * defaultOpts.heightRatio;				if (width > eleWidth) {			width = eleWidth;		}		if (height > eleHeight) {			height = eleHeight;		}		var refWidth = $(window).width();		if (triggertype == 'scroll') {			var refHeight = $(document).height();		} else {			var refHeight = $(window).height();		}		$topMask.css({			width : '100%',			height : top		});		$leftMask.css({			width : left,			top : top,			height : (refHeight - top < height ? height : (refHeight - top))		});		$bottomMask.css({			left : left,			top : top + height,			width : (refWidth - left < 0 ? 0 : (refWidth - left)),			height : (refHeight - top - height < 0 ? 0 : (refHeight - top - height))		});		$rightMask.css({			left : left + width,			top : top,			width : (refWidth - left - width < 0 ? 0 : (refWidth - left - width)),			height : height		});		if (defaultOpts.enable) {			$centerMask.hide();		} else {			$centerMask.show().css({				left : left,				top : top,				width : width,				height : height			});		}	}	function refreshOpts(opts) {		defaultOpts = {			enable : false, // 高亮区域是否可操作			width : null, // level = 1			height : null,			widthRatio : 1, // 高亮区域宽度百分比，优先级高于设定的宽度 level=2			heightRatio : 1,		};		$.extend(defaultOpts, opts || {});	}	function init(opts) {		refreshOpts(opts);		$topMask = $('<div>').addClass('guide-hightlight guide-mask').css({			left : 0,			top : 0		});		$leftMask = $('<div>').addClass('guide-hightlight guide-mask').css({			left : 0		});		$rightMask = $('<div>').addClass('guide-hightlight guide-mask');		$bottomMask = $('<div>').addClass('guide-hightlight guide-mask');		$centerMask = $('<div>').addClass('guide-hightlight').css({			position : 'absolute',			zIndex : 999999,			'-webkit-box-shadow' : '0px 0px 20px rgba(0, 0, 0, 0.6)',			'-moz-box-shadow' : '0px 0px 20px rgba(0, 0, 0, 0.6)',			'-ms-box-shadow' : '0px 0px 20px rgba(0, 0, 0, 0.6)',			'box-shadow' : '0px 0px 20px rgba(0, 0, 0, 0.6)'		});		$('body').append($topMask).append($leftMask).append($bottomMask).append($rightMask).append($centerMask);	}	$(window).bind('resize', function() {		if ($highlighEle) {			clearTimeout(timeoutId);			timeoutId = setTimeout(function() {				calculateMask($highlighEle, 'resize');			}, 50);		}	});	$(window).bind('scroll', function() {		if ($highlighEle) {			clearTimeout(timeoutId);			timeoutId = setTimeout(function() {				calculateMask($highlighEle, 'scroll');			}, 50);		}	});	$.extend({		guideHighlight : function($ele, opts) {			$highlighEle = $ele;			if ($('.guide-hightlight').length != 5) {				init(opts);			} else {				refreshOpts(opts);			}			calculateMask($ele);		},		dismissGuideFrog : function() {			$highlighEle = null;			$('.guide-hightlight').remove();		}	});})(jQuery);